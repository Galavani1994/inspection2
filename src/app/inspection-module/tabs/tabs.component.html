<ActionBar class="actionBar">
    <Label text="عملیات بازرسی" fontSize="14"></Label>
</ActionBar>
<StackLayout orientation="vertical">
    <StackLayout style="width: 100%;height:60;background-color: #ffffff" orientation="horizontal"
                 horizontalAlignment="center">
        <scroll-view orientation="horizontal" horizontalAlignment="left">
            <DockLayout horizontalAlignment="center">
                <Label (tap)="changeStatus('info')" class="fas tabName" dock="right" text="&#xf05a; &#xA;  اطلاعات"
                       textWrap="true"
                       [ngStyle]="{'borderBottomWidth':info?5:0,'border-bottom-color':info?'#254e0a':'#254e0a','color':info?'#000000':'#959595'}"></Label>

                <Label (tap)="changeStatus('item')" class="fas tabName" dock="right" text="&#xf0e8; &#xA; اقلام"
                       textWrap="true"
                       [ngStyle]="{'borderBottomWidth':item?5:0,'border-bottom-color':item?'#254e0a':'#254e0a','color':item?'#000000':'#959595'}"></Label>

                <Label (tap)="changeStatus('instanceInfo')" class="fas tabName" dock="right"
                       text="&#xf1fb; &#xA; اطلاعات نمونه" textWrap="true" *ngIf="isSampling"
                       [ngStyle]="{'borderBottomWidth':instanceInfo?5:0,'border-bottom-color':instanceInfo?'#254e0a':'#254e0a','color':instanceInfo?'#000000':'#959595'}"></Label>

                <Label (tap)="changeStatus('instance')" class="fas tabName" dock="right"
                       text="&#xf1fb; &#xA; معیار نمونه" textWrap="true" *ngIf="isSampling"
                       [ngStyle]="{'borderBottomWidth':instance?5:0,'border-bottom-color':instance?'#254e0a':'#254e0a','color':instance?'#000000':'#959595'}"></Label>

                <Label (tap)="changeStatus('checkList')" class="fas tabName" dock="right" text="&#xf0ae; &#xA; چک لیست"
                       textWrap="true"
                       [ngStyle]="{'borderBottomWidth':checklist?5:0,'border-bottom-color':checklist?'#254e0a':'#254e0a','color':checklist?'#000000':'#959595'}"></Label>

                <Label (tap)="changeStatus('standard')" class="fas tabName" dock="right" text="&#xf039; &#xA; استاندارد"
                       textWrap="true"
                       [ngStyle]="{'borderBottomWidth':standard?5:0,'border-bottom-color':standard?'#254e0a':'#254e0a','color':standard?'#000000':'#959595'}"></Label>

                <Label (tap)="changeStatus('equipment')" class="fas tabName" dock="right" text=" &#xf7d9;&#xA; تجهیزات"
                       textWrap="true"
                       [ngStyle]="{'borderBottomWidth':equipment?5:0,'border-bottom-color':equipment?'#254e0a':'#254e0a','color':equipment?'#000000':'#959595'}"></Label>

            </DockLayout>
        </scroll-view>
    </StackLayout>
    <StackLayout>
        <StackLayout *ngIf="info">
            <StackLayout style="padding: 5">
                <StackLayout class="page_border">
                    <scroll-view orientation="vertical">
                        <StackLayout>
                            <dock-layout class="info-dockLayout">
                                <Label dock="right" text="شماره ی Notification :" width="170"
                                       textAlignment="right" textWrap="true"></Label>
                                <Label textAlignment="right" textWrap="true" dock="left"
                                       [text]="notificationNum"></Label>
                            </dock-layout>
                            <dock-layout class="info-dockLayout">
                                <Label textWrap="true" dock="right" text="تاریخ Notification :" width="170"
                                       textAlignment="right"></Label>
                                <Label textWrap="true" textAlignment="right" dock="left"
                                       [text]="notificationDate"></Label>
                            </dock-layout>
                            <dock-layout class="info-dockLayout">
                                <Label textWrap="true" dock="right" text="شماره ی ITP :" width="170"
                                       textAlignment="right"></Label>
                                <Label textWrap="true" textAlignment="right" dock="left" [text]="itpNum"></Label>
                            </dock-layout>
                            <dock-layout class="info-dockLayout">
                                <Label dock="right" text="تاریخ ITP :" width="170" textAlignment="right"></Label>
                                <Label textWrap="true" textAlignment="right" dock="left" [text]="itpDate"></Label>
                            </dock-layout>
                            <dock-layout class="info-dockLayout">
                                <Label textWrap="true" dock="right" text="شماره ی برنامه :" width="170"
                                       textAlignment="right"></Label>
                                <Label textWrap="true" textAlignment="right" dock="left" [text]="programNum"></Label>
                            </dock-layout>
                            <dock-layout class="info-dockLayout">
                                <Label textWrap="true" dock="right" text="تاریخ برنامه :" width="170"
                                       textAlignment="right"></Label>
                                <Label textAlignment="right" dock="left" [text]="programDate" textWrap="true"></Label>
                            </dock-layout>
                            <dock-layout class="info-dockLayout">
                                <Label textWrap="true" dock="right" text="ساعت :" width="170"
                                       textAlignment="right"></Label>
                                <Label textWrap="true" dock="right" text="{{fromHour}} تا {{toHour}}"
                                       style="padding: 10 0 0 0"></Label>
                                <!--<Label textWrap="true" dock="right" [text]="fromHour" style="padding: 10 0 0 0"></Label>
                                <Label textWrap="true" dock="right" text="تا " width="30" style="padding-top: 12 0 0 0"></Label>
                                <Label textWrap="true" dock="right" textAlignment="right" [text]="toHour" width="300"
                                       style="padding: 10 0 0 0"></Label>-->
                            </dock-layout>
                            <dock-layout class="info-dockLayout">
                                <Label textWrap="true" dock="right" text="محصول :" width="170"
                                       textAlignment="right"></Label>
                                <Label textWrap="true" textAlignment="left" dock="left" [text]="product"></Label>
                            </dock-layout>
                            <dock-layout marginBottom="30">
                                <Label textWrap="true" dock="right" text="انتخاب محصول:" width="170"
                                       style="color: #000;"
                                       textAlignment="right"></Label>
                                <DropDown #dd [items]="productTitles" dock="right"
                                          [(ngModel)]="index"
                                          (selectedIndexChanged)="selectedIndexChanged($event)"
                                          color="#ffffff" class="drop-down" hint=" انتخاب کنید">
                                </DropDown>
                            </dock-layout>
                        </StackLayout>
                    </scroll-view>
                </StackLayout>
            </StackLayout>
        </StackLayout>
        ////////////////////////item///////////////////item////////////////////////item///////////////////////////
        <StackLayout *ngIf="item">
            <StackLayout padding="5">
                <stack-layout class="page_border">
                    <StackLayout orientation="vertical" padding="5">
                        <StackLayout class="input-field">
                            <DockLayout
                                    style="background-color: #d7d7d7;height: 10%;border-radius: 5;">
                                <Label style="margin-top:5;color:black;" text="محصول انتخاب شده:" dock="right"></Label>
                                <Label style="margin-top:5;font-size: 16;text-align: center;font-weight: bold;color: black"
                                       text="{{proTitle}}"></Label>
                            </DockLayout>
                        </StackLayout>
                        <scroll-view orientation="vertical">
                            <StackLayout orientation="vertical" *ngIf="allow">
                                <StackLayout
                                        style="background-color: #d7d7d7;border-radius: 5;margin-top: 2;padding: 3;height: 40%">
                                    <DockLayout *ngFor="let it of itemCharacter; let i=index">
                                        <Label dock="right" textAlignment="right" width="150" style="margin: 15"
                                               text="{{it.title}}"></Label>
                                        <text-field [(ngModel)]="it.value" dock="left"
                                                    style="border-color: black;border-width: 1;background-color:white;padding: 5;margin-bottom: 3;border-radius:5 ;height: 45"></text-field>
                                    </DockLayout>
                                    <StackLayout orientation="horizontal">
                                        <Button class="btnSave"
                                                height="48"
                                                text="افزودن" (tap)="insert()"></Button>
                                        <!--<Button class="savee" text="مشاهده" (tap)="fetch()"></Button>-->
                                        <!--<Button class="savee" text="حذف جدول" (tap)="deleteTable()"></Button>-->
                                        <!--<Button class="savee" text="ایجاد جدول" (tap)="create_database()"></Button>-->
                                    </StackLayout>
                                </StackLayout>
                                <scroll-view orientation="vertical" style="margin-top: 5">
                                    <StackLayout orientation="vertical" horizontalAlignment="center"
                                                 style="height: 50%">
                                        <scroll-view orientation="horizontal">
                                            <GridLayout *ngIf="show" [rows]="genRows(resultItemChsrschter)"
                                                        [columns]="genCols(itemCharacter)">
                                                <ng-container *ngFor="let it of itemCharacter; let i=index">
                                                    <Label horizontalAlignment="right" row="0"
                                                           [col]="itemCharacter.length+1" text="ردیف"
                                                           style="width: 100;background-color: #556b2f;"
                                                           class="lbl"></Label>
                                                    <Label horizontalAlignment="right" row="0"
                                                           [col]="itemCharacter.length-(i)" text="{{it.title}}"
                                                           style="width: 100;background-color: darkolivegreen;"
                                                           class="lbl"></Label>
                                                    <Label horizontalAlignment="right" row="0" [col]="0" text="عملیات"
                                                           class="lbl"
                                                           style="width: 100;background-color: darkolivegreen;"></Label>
                                                </ng-container>
                                                <ng-container *ngFor="let ite of resultItemChsrschter;let r=index">
                                                    <Label text="{{r+1}}" class="lbl" [row]="r+1"
                                                           [col]="ite.values.length+1"></Label>
                                                    <Label text="{{fff.value}}" [row]="r+1"
                                                           [col]="ite.values.length-(c)"
                                                           *ngFor="let fff of ite.values;let c=index"
                                                           class="lbl"></Label>
                                                    <Label text="&#xf2ed;" class="fas operation"
                                                           style="margin-left: 40;border-bottom-width: 1;border-color: black;border-style: solid"
                                                           color="red" [row]="r+1" [col]="0"
                                                           (tap)="delete(ite.id)"></Label>
                                                    <Label [row]="r+1" class="operation" color="#ffffff" [col]="0"
                                                           text="---" style="margin: 0 10"></Label>
                                                    <Label text="&#xf044;" class="fas operation"
                                                           style="margin-right:40;border-left-width:1;border-bottom-width: 1;border-color: black;border-style: solid"
                                                           color="blue" [row]="r+1" [col]="0"
                                                           (tap)="edit(ite.id)"></Label>
                                                </ng-container>
                                            </GridLayout>
                                        </scroll-view>
                                    </StackLayout>
                                </scroll-view>
                            </StackLayout>
                        </scroll-view>
                    </StackLayout>
                </stack-layout>
            </StackLayout>
        </StackLayout>


        <StackLayout #instanceInfo *ngIf="instanceInfo" style="margin: 3px 10px" class="page_border">
            <stack-layout *ngIf="!allow" horizontalAlignment="center">
                <Label text="محصولی انتخاب نشده است!!!" style="color: red;margin-top: 40%;padding-top: 10"></Label>
            </stack-layout>
            <instanceInfo *ngIf="allow" [productId]="proId"></instanceInfo>
        </StackLayout>

        <StackLayout #instance *ngIf="instance" style="margin: 3px 10px" class="page_border">
            <stack-layout *ngIf="!allow" horizontalAlignment="center">
                <Label text="محصولی انتخاب نشده است!!!" style="color: red;margin-top: 40%;padding-top: 10"></Label>
            </stack-layout>
            <instance *ngIf="allow" [productId]="proId"></instance>
        </StackLayout>

        <StackLayout *ngIf="checklist">
            <check-list [resultItemChsrschter]="resultItemChsrschter" [proId]="proId" [proTitle]="proTitle"
                        [show]="show" [itemCharTitle]="itemCharTitle"></check-list>
        </StackLayout>

        <StackLayout *ngIf="standard" style="margin:3px 10px" class="page_border">
            <standard [product]="product"></standard>
        </StackLayout>

        <StackLayout *ngIf="equipment" style="margin:3px 10px" class="page_border">
            <equipment></equipment>
        </StackLayout>

    </StackLayout>
</StackLayout>
